(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{223:function(t,a,s){"use strict";s.r(a);var e={props:["slot-key"],mounted:function(){this.$nextTick(function(){this.$vuepress.$emit("AsyncMarkdownContentMounted",this.slotKey)})}},n=s(6),o=Object(n.a)(e,function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.slotKey}},[s("h1",{attrs:{id:"vue-file-tray"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vue-file-tray","aria-hidden":"true"}},[t._v("#")]),t._v(" vue-file-tray")]),t._v(" "),s("Badge",{attrs:{text:t.$page.frontmatter.version}}),t._v(" "),s("p",[t._v("Component for adding files to the browser.")]),t._v(" "),s("div",{staticClass:"warning custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),s("p",[s("strong",[t._v("IMPORTANT")]),t._v(": This component uses JavaScript "),s("a",{attrs:{href:"http://www.w3.org/TR/html5/scripting-1.html#dom-canvas-toblob",target:"_blank",rel:"noopener noreferrer"}},[t._v("canvas.toBlob"),s("OutboundLink")],1),t._v(" method. This method is not supported by mobile browsers. To work properly in mobile browsers, you need a polyfill. You can add "),s("a",{attrs:{href:"https://github.com/blueimp/JavaScript-Canvas-to-Blob",target:"_blank",rel:"noopener noreferrer"}},[t._v("blueimp-canvas-to-blob"),s("OutboundLink")],1),t._v(" to your project.")])]),t._v(" "),s("ul",[s("li",[t._v("lightweight")]),t._v(" "),s("li",[t._v('"renderless"')]),t._v(" "),s("li",[t._v("no external library")]),t._v(" "),s("li",[t._v("generate thumbs and process images")])]),t._v(" "),s("p",[s("code",[t._v("vue-file-tray")]),t._v(" is a component for adding and processing files. Most common use case is of course uploading files to server, but "),s("code",[t._v("file-tray")]),t._v(" does not do any uploading on it's own. Instead, it stores the files objects in accessible "),s("code",[t._v("files")]),t._v(" data property, so you can process them however you like.")]),t._v(" "),s("p",[s("code",[t._v("vue-file-tray")]),t._v(" is a modern web component – it uses "),s("code",[t._v("canvas")]),t._v(" for processing thumbnails and crunching images, and it uses "),s("code",[t._v("DataEvent")]),t._v(" for transferring file data to browser. it "),s("strong",[t._v("does not")]),t._v(" provide fallback support for old IE browsers.")]),t._v(" "),s("p",[t._v("Front end users can add files to "),s("code",[t._v("vue-file-tray")]),t._v(" by dropping them over it, or using standard browser dialog. The latter option will then also work on mobile.")]),t._v(" "),s("p",[s("code",[t._v("vue-file-tray")]),t._v(" can take care of validation, will generate data for thumbnails or resized images. How to further upload or process the files is up to you.")]),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[s("code",[t._v("vue-file-tray")]),t._v(" is a "),s("strong",[t._v("single element component")]),t._v(" – it's just a plain "),s("code",[t._v("<div>")]),t._v(" and has no default styling. This makes "),s("code",[t._v("vue-file-tray")]),t._v(" a very flexible component. Remember to add some styling when you render it, otherwise it will not be visible. It also has a default slot, so it can contain any HTML. This is useful for e.g. rendering thumbnails.")])]),t._v(" "),s("hr"),t._v(" "),s("vp-holder",[s("ul",[s("li",[t._v("Basic example with very minimal styling.")]),t._v(" "),s("li",[t._v("Drop files, or click to open file dialog.")]),t._v(" "),s("li",[t._v("Display thumbs. Only images and pdfs accepted.\n"),s("vp-file-tray-wrap")],1)]),t._v(" "),s("p",[s("em",[t._v("Template:")])]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("vue-file-tray")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("ref")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("tray"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[s("span",{attrs:{class:"token namespace"}},[t._v("@files:")]),t._v("changed")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("updateTrayFiles"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v(":accepted")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("["),s("span",{attrs:{class:"token punctuation"}},[t._v("'")]),t._v("image/*"),s("span",{attrs:{class:"token punctuation"}},[t._v("'")]),t._v(","),s("span",{attrs:{class:"token punctuation"}},[t._v("'")]),t._v("application/pdf"),s("span",{attrs:{class:"token punctuation"}},[t._v("'")]),t._v("]"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("file"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("v-for")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("file in trayFiles"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v(":src")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("file.thumbURL"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n        "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("span")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" {{file.file.type}} "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("span")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("vue-file-tray")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[s("em",[t._v("Script:")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n\t"),s("span",{attrs:{class:"token function"}},[t._v("data")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" trayFiles"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("null")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\tmethods"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{attrs:{class:"token function"}},[t._v("updateTrayFiles")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),s("span",{attrs:{class:"token keyword"}},[t._v("this")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("trayFiles "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("this")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$refs"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tray"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("files\n\t\t"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),s("h2",{attrs:{id:"props"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#props","aria-hidden":"true"}},[t._v("#")]),t._v(" props")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("property")]),t._v(" "),s("th",[t._v("type")]),t._v(" "),s("th",[t._v("default")]),t._v(" "),s("th",[t._v("comment")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("maxFileSize")])]),t._v(" "),s("td",[t._v("Number")]),t._v(" "),s("td",[s("code",[t._v("10")])]),t._v(" "),s("td",[t._v("Max file size in MB.")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("maxFiles")])]),t._v(" "),s("td",[t._v("Number")]),t._v(" "),s("td",[s("code",[t._v("10")])]),t._v(" "),s("td",[t._v("Max number of files you can add.")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("accepted")])]),t._v(" "),s("td",[t._v("Array")]),t._v(" "),s("td",[s("code",[t._v("['image/*']")])]),t._v(" "),s("td",[t._v("Accepted mime types.")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("dragAdd")])]),t._v(" "),s("td",[t._v("Boolean")]),t._v(" "),s("td",[s("code",[t._v("true")])]),t._v(" "),s("td",[t._v("Allow for adding files by drag and drop.")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("clickAdd")])]),t._v(" "),s("td",[t._v("Boolean")]),t._v(" "),s("td",[s("code",[t._v("true")])]),t._v(" "),s("td",[t._v("Open file dialog on click")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("thumbs")])]),t._v(" "),s("td",[t._v("Boolean")]),t._v(" "),s("td",[s("code",[t._v("true")])]),t._v(" "),s("td",[t._v("Should genereate thumbnails")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("thumbSizes")])]),t._v(" "),s("td",[t._v("Array")]),t._v(" "),s("td",[s("code",[t._v("[300,300]")])]),t._v(" "),s("td",[s("code",[t._v("[width, height]")]),t._v(" in px")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("processImages")])]),t._v(" "),s("td",[t._v("Boolean")]),t._v(" "),s("td",[s("code",[t._v("false")])]),t._v(" "),s("td",[t._v("Should generate processed images")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("maxEdge")])]),t._v(" "),s("td",[t._v("Number")]),t._v(" "),s("td",[s("code",[t._v("1200")])]),t._v(" "),s("td",[t._v("Processed images largest dimenssion (px)")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("quality")])]),t._v(" "),s("td",[t._v("Number")]),t._v(" "),s("td",[s("code",[t._v("0.92")])]),t._v(" "),s("td",[t._v("JPEG processing quality 0-1")])])])]),t._v(" "),s("h2",{attrs:{id:"data"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#data","aria-hidden":"true"}},[t._v("#")]),t._v(" data")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("property")]),t._v(" "),s("th",[t._v("comment")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("files")])]),t._v(" "),s("td",[t._v("Array of files in the file-tray. Also contains thumb Blob, thumb url, processed Blob and processed url.")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("over")])]),t._v(" "),s("td",[t._v("Boolean – whether files are dragged over.")])])])]),t._v(" "),s("h2",{attrs:{id:"methods"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#methods","aria-hidden":"true"}},[t._v("#")]),t._v(" methods")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("method")]),t._v(" "),s("th",[t._v("args")]),t._v(" "),s("th",[t._v("comment")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("openFinder()")])]),t._v(" "),s("td",[t._v("—")]),t._v(" "),s("td",[t._v("Open file dialog.")])])])]),t._v(" "),s("h2",{attrs:{id:"events"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#events","aria-hidden":"true"}},[t._v("#")]),t._v(" events")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("name")]),t._v(" "),s("th",[t._v("payload")]),t._v(" "),s("th",[t._v("comment")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("error:accepted")])]),t._v(" "),s("td",[t._v("Object: "),s("code",[t._v("{accepted: <Array>, file: <String>}")])]),t._v(" "),s("td",[t._v("Rejected mime type.")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("error:maxFileSize")])]),t._v(" "),s("td",[t._v("Object: "),s("code",[t._v("{max: <Number>, file: <Number>}")])]),t._v(" "),s("td",[t._v("File too large.")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("error:maxFiles")])]),t._v(" "),s("td",[t._v("Max files limit: "),s("code",[t._v("Number")])]),t._v(" "),s("td",[t._v("Too many files.")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("file:added")])]),t._v(" "),s("td",[t._v("file.id: "),s("code",[t._v("Number")])]),t._v(" "),s("td",[t._v("File added. Payload is file ID.")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("files:changed")])]),t._v(" "),s("td",[t._v("–")]),t._v(" "),s("td",[t._v("Any changes to "),s("code",[t._v("files")]),t._v(" property")])])])])],1)},[],!1,null,null,null);o.options.__file="vue-file-tray.md";a.default=o.exports}}]);